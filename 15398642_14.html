<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Trench Questions</title>
<link rel="icon" type="image/png" href="./favicon.png">

<style>
    body {
        background-color: black;
        color: white;
        font-family: "Courier New", monospace;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        text-align: center;
    }

    #container {
        width: 80%;
        max-width: 500px;
    }

    input, button {
        font-family: "Courier New", monospace;
        padding: 10px;
        font-size: 18px;
        width: 100%;
        margin-top: 10px;
        background: #111;
        border: 1px solid white;
        color: white;
    }

    /* PULSE ANIMATIONS */
    @keyframes pulse-green {
        0% { box-shadow: 0 0 5px #00ff00; }
        50% { box-shadow: 0 0 20px #00ff00; }
        100% { box-shadow: 0 0 5px #00ff00; }
    }

    @keyframes pulse-red {
        0% { box-shadow: 0 0 5px red; }
        50% { box-shadow: 0 0 20px red; }
        100% { box-shadow: 0 0 5px red; }
    }

    @keyframes pulse-yellow {
        0% { box-shadow: 0 0 5px yellow; }
        50% { box-shadow: 0 0 20px yellow; }
        100% { box-shadow: 0 0 5px yellow; }
    }

    .pulse-green { animation: pulse-green 0.6s ease; }
    .pulse-red { animation: pulse-red 0.6s ease; }
    .pulse-yellow { animation: pulse-yellow 0.6s ease; }
</style>
</head>

<body>

<audio id="correct-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-unlock-game-notification-253.wav"></audio>
<audio id="wrong-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-video-game-big-failure-2039.wav"></audio>

<div id="container">
    <h1 id="question"></h1>
    <input id="answer" type="text">
    <button onclick="checkAnswer()">ENTER</button>
    <p id="feedback"></p>
</div>

<script>
let step = 0;

const questions = [
    "When will you perform in the Trench Saga? (format 00/00)",
    "Who is the Nova Bishop?",
    "Are you a Bandito or a Bishop?"
];

const answers = [
    "21/12",
    "clancy",
    ["bandito", "bishop"]
];

function loadQuestion() {
    document.getElementById("question").textContent = questions[step];
    document.getElementById("answer").value = "";
    document.getElementById("answer").focus();
}

function pulse(element, color) {
    element.classList.remove("pulse-green", "pulse-red", "pulse-yellow");
    void element.offsetWidth; // reset animation
    element.classList.add(color);
}

function checkAnswer() {
    let input = document.getElementById("answer");
    let val = input.value.trim().toLowerCase();
    let correct = answers[step];

    let correctSound = document.getElementById("correct-sound");
    let wrongSound = document.getElementById("wrong-sound");

    // Multiple options question
    if (Array.isArray(correct)) {
        if (correct.includes(val)) {

            if (val === "bandito") {
                pulse(input, "pulse-yellow");
                correctSound.play();
                showFinal("Song: <span style='color: yellow;'>Levitate</span>");
            }

            else if (val === "bishop") {
                pulse(input, "pulse-red");
                correctSound.play();
                showFinal("Song: <span style='color: red;'>City Walls</span>");
            }

            return;
        } else {
            pulse(input, "pulse-red");
            wrongSound.play();
            return;
        }
    }

    // Normal questions
    if (val === correct) {
        pulse(input, "pulse-green");
        correctSound.play();
        step++;

        if (step >= questions.length) {
            showFinal("Completed.");
            return;
        }

        setTimeout(loadQuestion, 600);
    } else {
        pulse(input, "pulse-red");
        wrongSound.play();
    }
}

function showFinal(text) {
    document.getElementById("container").innerHTML = `
        <h1>${text}</h1>
        <button onclick="location.reload()">Restart</button>
    `;
}

loadQuestion();
</script>

</body>
</html>


