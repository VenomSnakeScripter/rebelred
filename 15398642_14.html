<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Trench Saga Q&A</title>
  <style>
    :root{--bg:#000;--fg:#fff}
    html,body{height:100%;margin:0}
    body{
      background:var(--bg);
      color:var(--fg);
      font-family: "Courier New", Courier, monospace;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:2rem;
    }

    .wrap{
      text-align:center;
      max-width:90vw;
    }

    h1{
      margin:0 0 1rem 0;
      font-size:clamp(2rem,6vw,4rem);
      letter-spacing:0.06em;
      font-weight:400;
    }

    .input-row{
      display:flex;
      gap:0.5rem;
      justify-content:center;
      align-items:center;
      margin-top:0.6rem;
    }

    input[type="text"]{
      background:transparent;
      color:var(--fg);
      border:1px solid rgba(255,255,255,0.25);
      padding:0.6rem 0.8rem;
      font:1rem/1 "Courier New", Courier, monospace;
      outline:none;
      border-radius:6px;
      min-width:260px;
      transition:box-shadow 0.25s ease;
    }

    /* PULSOS (GLOW SUAVE, NO SÓLIDO) */
    .pulse-green{
      box-shadow:0 0 12px 4px rgba(0,255,0,0.65);
    }
    .pulse-red{
      box-shadow:0 0 12px 4px rgba(255,0,0,0.65);
    }
    .pulse-yellow{
      box-shadow:0 0 12px 4px rgba(255,255,0,0.65);
    }

    button{
      background:transparent;
      color:var(--fg);
      border:1px solid rgba(255,255,255,0.25);
      padding:0.55rem 0.8rem;
      border-radius:6px;
      cursor:pointer;
      font:1rem/1 "Courier New", Courier, monospace;
    }

    button:active{transform:translateY(1px)}

    #final{
      margin-top:1rem;
      font-size:1.3rem;
    }
    h1{
    position:relative;
    display:inline-block;
  }
  
  h1::before,
  h1::after{
    content: attr(data-text);
    position:absolute;
    top:0; left:0;
    opacity:0;
  }
  
  h1::before{
    color:#f00;
    z-index:-1;
    animation: glitch1 2.5s infinite;
  }
  
  h1::after{
    color:#0ff;
    z-index:-1;
    animation: glitch2 2.5s infinite;
  }
  
  @keyframes glitch1{
    0%{clip-path:inset(50% 0 0 0); transform:translate(-3px,-3px); opacity:0.8;}
    20%{clip-path:inset(10% 0 65% 0); transform:translate(3px,3px); opacity:0.4;}
    40%{clip-path:inset(80% 0 0 0); transform:translate(-2px,2px); opacity:0.7;}
    60%{clip-path:inset(20% 0 40% 0); transform:translate(2px,-2px); opacity:0.6;}
    100%{clip-path:inset(50% 0 0 0); transform:translate(0,0); opacity:0;}
  }
  
  @keyframes glitch2{
    0%{clip-path:inset(0 0 40% 0); transform:translate(2px,2px); opacity:0.5;}
    20%{clip-path:inset(60% 0 15% 0); transform:translate(-2px,-2px); opacity:0.3;}
    40%{clip-path:inset(30% 0 20% 0); transform:translate(3px,-3px); opacity:0.7;}
    60%{clip-path:inset(80% 0 0 0); transform:translate(-3px,3px); opacity:0.5;}
    100%{clip-path:inset(0 0 40% 0); transform:translate(0,0); opacity:0;}
  }

  </style>
</head>
<body>
  <main class="wrap" role="main">
    <h1 data-text="Trench Saga Q&A">Trench Saga</h1>

    <!-- STEP 1 -->
    <div id="s1" class="step">
      <div class="input-row">
        <input id="q1" type="text" placeholder="When will you perform? (00/00)">
        <button id="b1">Enter</button>
      </div>
    </div>

    <!-- STEP 2 -->
    <div id="s2" class="step" style="display:none;">
      <div class="input-row">
        <input id="q2" type="text" placeholder="Who is the Nova Bishop?">
        <button id="b2">Enter</button>
      </div>
    </div>

    <!-- STEP 3 -->
    <div id="s3" class="step" style="display:none;">
      <div class="input-row">
        <input id="q3" type="text" placeholder="rebel red...">
        <button id="b3">Enter</button>
      </div>
    </div>

    <!-- STEP 4 -->
    <div id="s4" class="step" style="display:none;">
      <div class="input-row">
        <input id="q4" type="text" placeholder="Keons, Sacarver, Listo...">
        <button id="b4">Enter</button>
      </div>
    </div>

    <!-- STEP 5 -->
    <div id="s5" class="step" style="display:none;">
      <div class="input-row">
        <input id="q5" type="text" placeholder="Bandito or Bishop?">
        <button id="b5">Enter</button>
      </div>
    </div>

    <!-- FINAL -->
    <div id="final" style="display:none;">
      <div id="song"></div>
      <br>
      <button onclick="location.reload()">Restart</button>
    </div>

  </main>

<script>
function norm(s){ return (s || "").trim().toLowerCase(); }

// PULSO SUAVE AL INPUT
function pulse(el, cls){
  el.classList.remove("pulse-green","pulse-red","pulse-yellow");
  void el.offsetWidth; // reset animation
  el.classList.add(cls);
  setTimeout(()=> el.classList.remove(cls), 450);
}

/* STEP 1 */
document.getElementById("b1").onclick = ()=>{
  let el = document.getElementById("q1");
  let v = norm(el.value);
  if(v !== "21/12"){ pulse(el,"pulse-red"); return; }
  pulse(el,"pulse-green");
  s1.style.display="none"; s2.style.display="block"; q2.focus();
};

/* STEP 2 */
document.getElementById("b2").onclick = ()=>{
  let el = document.getElementById("q2");
  let v = norm(el.value);
  if(v !== "clancy"){ pulse(el,"pulse-red"); return; }
  pulse(el,"pulse-green");
  s2.style.display="none"; s3.style.display="block"; q3.focus();
};

/* STEP 3 */
document.getElementById("b3").onclick = ()=>{
  let el = document.getElementById("q3");
  let v = norm(el.value);
  if(v !== "carnation"){ pulse(el,"pulse-red"); return; }
  pulse(el,"pulse-green");
  s3.style.display="none"; s4.style.display="block"; q4.focus();
};

/* STEP 4 */
document.getElementById("b4").onclick = ()=>{
  let el = document.getElementById("q4");
  let v = norm(el.value);
  if(v !== "clancy"){ pulse(el,"pulse-red"); return; }
  pulse(el,"pulse-green");
  s4.style.display="none"; s5.style.display="block"; q5.focus();
};

/* STEP 5 (FINAL) */
document.getElementById("b5").onclick = ()=>{
  let el = document.getElementById("q5");
  let v = norm(el.value);

  if(!["bandito","bishop","obispo"].includes(v)){
    pulse(el,"pulse-red");
    return;
  }

  // Animación de color según selección
  if(v === "bandito"){
    pulse(el,"pulse-yellow");
    showFinal("Song: Levitate","yellow");
  } else {
    pulse(el,"pulse-red");
    showFinal("Song: City Walls","red");
  }
};

function showFinal(text,color){
  s5.style.display="none";
  final.style.display="block";
  song.innerHTML = `<span style="color:${color};">${text}</span>`;
}
</script>
</body>
</html>






